(function(t){function n(n){for(var i,a,s=n[0],c=n[1],l=n[2],u=0,f=[];u<s.length;u++)a=s[u],o[a]&&f.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(n);while(f.length)f.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],i=!0,s=1;s<e.length;s++){var c=e[s];0!==o[c]&&(i=!1)}i&&(r.splice(n--,1),t=a(a.s=e[0]))}return t}var i={},o={app:0},r=[];function a(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=i,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)a.d(e,i,function(n){return t[n]}.bind(null,i));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var h=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[t._m(0),e("div",{staticClass:"anchor-horizontal"},[e("div",{staticClass:"anchor"},[e("lov-anchor",{attrs:{targetid:"anchorid",horizontal:""}},[t._l(5,function(t){return e("lov-anchor-link",{key:t,attrs:{href:"#box"+t,title:"anchorlink"+t}})}),e("lov-anchor-link",{attrs:{href:"#box6"}},[e("template",{slot:"slot"},[e("span",{staticStyle:{color:"red"}},[t._v(" slot-link6")])])],2)],2)],1),e("div",{staticClass:"anchor"},[e("lov-anchor",{attrs:{targetid:"anchorid",horizontal:"",button:""}},[t._l(5,function(t){return e("lov-anchor-link",{key:t,attrs:{href:"#box"+t,title:"anchorlink"+t}})}),e("lov-anchor-link",{attrs:{href:"#box6"}},[e("template",{slot:"slot"},[e("span",{staticStyle:{color:"red"}},[t._v(" slot-link6")])])],2)],2)],1)]),e("div",{staticClass:"anchor-main"},[e("div",{staticClass:"vue-lov-anchor"},[e("div",{staticClass:"anchor"},[e("lov-anchor",{attrs:{targetid:"anchorid"}},[t._l(5,function(t){return e("lov-anchor-link",{key:t,attrs:{href:"#box"+t,title:"anchorlink"+t}})}),e("lov-anchor-link",{attrs:{href:"#box6"}},[e("template",{slot:"slot"},[e("span",{staticStyle:{color:"red"}},[t._v(" slot-link6")])])],2)],2)],1),e("div",{staticClass:"anchor"}),e("div",{staticClass:"anchor"},[e("lov-anchor",{attrs:{targetid:"anchorid",button:""}},[t._l(5,function(t){return e("lov-anchor-link",{key:t,attrs:{href:"#box"+t,title:"anchorlink"+t}})}),e("lov-anchor-link",{attrs:{href:"#box6"}},[e("template",{slot:"slot"},[e("span",{staticStyle:{color:"red"}},[t._v(" slot-link6")])])],2)],2)],1),e("div",{staticClass:"anchor"}),e("div",{staticClass:"anchor"})]),e("div",{staticClass:"anchor-content",attrs:{id:"anchorid"}},t._l(10,function(n){return e("div",{key:n,staticClass:"box",attrs:{id:"box"+n}},[e("h2",[t._v(t._s("box"+n))])])}),0)])])},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"title"},[e("h1",[t._v("Vue-Lov-Anchor")])])}],a={name:"app",methods:{mckick:function(t,n,e){}}},s=a,c=(e("5c0b"),e("2877")),l=Object(c["a"])(s,o,r,!1,null,null,null),h=l.exports,u=(e("7f7f"),e("b54a"),e("a481"),e("ac6a"),e("a4bb")),f=e.n(u);e("7514"),e("6762"),e("2fdb"),e("8c66");function d(t,n){if(!t)return 0;if(!t.getClientRects().length)return 0;var e=t.getBoundingClientRect();return e.width||e.height?n===window?(n=t.ownerDocument.documentElement,e.top-n.clientTop):e.top-n.getBoundingClientRect().top:e.top}Math.easeInOutQuad=function(t,n,e,i){return t/=i/2,t<1?e/2*t*t+n:(t--,-e/2*(t*(t-2)-1)+n)};var v=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function p(t,n){n.scrollTop=t}function k(t,n,e,i,o){var r=20,a=n-t,s=0;i="undefined"===typeof i?500:i;var c=function n(){s+=r;var c=Math.easeInOutQuad(s,t,a,i);p(c,e),s<i?v(n):o&&"function"===typeof o&&o()};c()}var g={name:"LovAnchor",props:{targetid:{type:String,default:""}},provide:function(){var t=this;return{anchor:{handlerClickLink:function(n){t.activeLink=!0,t.activeLinkId=n,t.setCurrentDot(n),t.setContainerScrollTop(n)},registLink:function(n){t.links.includes(n)||t.links.push(n)},unregisterLink:function(n){var e=t.links.indexOf(n);-1!==e&&t.links.splice(e,1)},$data:this.$data,horizontal:this.horizontal},activeLinkId:this.activeLinkId,anchorContext:this}},data:function(){return{container:null,links:[],activeSection:{},activeLink:!1,activeLinkId:"",checkChange:[]}},mounted:function(){var t=this;this.$nextTick(function(){t.targetid?t.container=document.getElementById(t.targetid):t.container=window,t.container&&t.container.addEventListener("scroll",t.containerScroll),t.containerScroll()})},beforeDestroy:function(){this.container==window?window.removeEventListener("scroll",this.containerScroll):this.container.removeEventListener("scroll",this.containerScroll)},computed:{button:function(){return!!f()(this.$attrs).find(function(t){return"button"==t})},horizontal:function(){return!!f()(this.$attrs).find(function(t){return"horizontal"==t})}},methods:{containerScroll:function(){if(!this.isclick){var t=this.getCurrentAnchor();t!=this.checkChange[0]&&(this.checkChange.unshift(t),this.checkChange.length>1&&this.checkChange.splice(1,1),t?(this.setCurrentLink(t),this.setCurrentDot(t)):this.setCurrentLink(""))}},getCurrentAnchor:function(){var t=this,n=[];if(this.links.forEach(function(e){var i=document.getElementById(e.replace(/#/,""));if(i){var o=d(i,t.container);o<5&&(n.push({link:e,top:o}),t.activeLink=!0)}}),!n.length)return t.activeLink=!1,"";var e=n.reduce(function(t,n){return n.top>t.top?n:t});if(e.link){var i=document.getElementById(e.link.replace(/#/,""));return i.offsetHeight+e.top<=0?(t.activeLink=!1,""):e.link}return""},setCurrentDot:function(t){var n=this.$el.querySelector("*[href='".concat(t,"']>.anchor-link_content")),e=this.$el.querySelector("#anchor-dot");n&&(this.horizontal?this.button?(this.$refs.linkNode.style.left=n.offsetLeft+"px",this.$refs.linkNode.style.height=n.offsetHeight+"px",this.$refs.linkNode.style.width=n.offsetWidth+"px"):(this.$refs.linkNode.style.width=n.offsetWidth+"px",this.$refs.linkNode.style.left=n.offsetLeft+"px"):this.button?(this.$refs.linkNode.style.top=n.offsetTop+"px",this.$refs.linkNode.style.height=n.offsetHeight+"px",this.$refs.linkNode.style.width=n.offsetWidth+"px",this.$refs.linkNode.style.left=n.offsetLeft+"px"):this.$refs.linkNode.style.top=n.offsetHeight/2+n.offsetTop-e.offsetHeight/2+"px")},setCurrentLink:function(t){this.activeLinkId=t},setContainerScrollTop:function(t){this.isclick=!0;var n=this,e=document.getElementById(t.replace("#",""));if(e){var i=this.container.scrollTop,o=e.offsetTop-this.container.offsetTop;k(i,o,this.container,500,function(){n.isclick=!1})}}},render:function(t){return t("div",{class:{"lov-anchor":!0,"button-anchor":this.button,horizontal:this.horizontal}},[t("div",{class:"lov-anchor_ink"},[t("i",{class:{"move-dot":!0,visible:this.activeLink},ref:"linkNode",attrs:{id:"anchor-dot"}})]),this.$slots.default])}},m=(e("8449"),{name:"LovAnchorLink",props:{title:{type:String,default:function(){return""}},href:{type:String,default:function(){return"#"}}},inject:{anchor:{default:function(){}},anchorContext:{default:function(){}}},mounted:function(){this.anchor.registLink(this.href)},watch:{href:function(t,n){this.anchor.unregisterLink(n),this.anchor.registerLink(t)}},methods:{handlerClickLink:function(t){t.stopPropagation();var n=this.$props,e=n.href,i=n.title;this.anchor.handlerClickLink(this.href),this.anchorContext.$emit&&this.anchorContext.$emit("click",{title:i,href:e},t)}},render:function(t){var n=this.anchor.$data.activeLinkId==this.href;return t("div",{class:{"lov-anchor_link":!0,"has-chlid":!(this.anchor.horizontal||!this.$slots.default)},attrs:{href:this.href},on:{click:this.handlerClickLink}},[t("div",{class:{"anchor-link_content":!0,active:n}},this.$slots.slot?this.$slots.slot:this.title),!this.anchor.horizontal&&this.$slots.default])}}),b=[g,m],y=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];b.map(function(n){t.component(n.name,n)})};"undefined"!==typeof window&&window.Vue&&y(window.Vue);var w={install:y,Anchor:g,AnchorLink:m};i["a"].use(w),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";var i=e("5e27"),o=e.n(i);o.a},"5e27":function(t,n,e){},"8c66":function(t,n,e){}});
//# sourceMappingURL=app.ae720360.js.map